<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Para Adri - El Show Comienza</title>
<style>
    body {
      margin: 0;
      font-family: 'Georgia', serif;
      background-color: #111;
      color : rgb(255, 120, 244);
      overflow: hidden;
    }

    #theater {
      position: relative;
      width: 100vw;
      height: 100vh;
      overflow: hidden;
    }
    .curtain {
      position: absolute;
      top: 0;
      width: 50%;
      height: 100%;
      background: radial-gradient(circle at center, #8B0000 0%, #B22222 50%, #8B0000 100%);
      background-size: 200% 200%;
      background-position: center;
      animation: curtainFlow 5s linear infinite;
      z-index: 5;
      transition: transform 2s ease;
      box-shadow: inset 0 0 30px rgba(0,0,0,0.5);
    }
    @keyframes curtainFlow {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    .curtain-left { left: 0; }
    .curtain-right { right: 0; }

#stage {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.scene-container {
  display: flex;
  width: calc(100vw * 7);
  height: 100vh;
  transition: transform 1s ease;
}

.scene {
  width: 100vw;
  height: 100vh;
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

#scene-1 {
  background: url('img/fondo-escena1.png') no-repeat center center/cover;
  font-family: 'Georgia', serif;
    color: #cc9c00;
  text-shadow:
    -1px -1px 0 #000000,  /* Sombra izquierda-arriba */
     1px -1px 0 #000,  /* Sombra derecha-arriba */
    -1px  1px 0 #000,  /* Sombra izquierda-abajo */
     1px  1px 0 #000; /* Sombra derecha-abajo */
}
#scene-2 {
  background: url('img/fondo-escena2.png') no-repeat center center/cover;
  font-family: 'Arial', sans-serif;
    color: #025068; 
    text-shadow:
    -1px -1px 0 #ffffff,  /* Sombra izquierda-arriba */
     1px -1px 0 #ffffff,  /* Sombra derecha-arriba */
    -1px  1px 0 #ffffff,  /* Sombra izquierda-abajo */
     1px  1px 0 #ffffff; /* Sombra derecha-abajo */
}
#scene-3 {
  background: url('img/fondo-escena3.png') no-repeat center center/cover;
  font-family: 'Courier New', monospace;
    color: #650379; 
    text-shadow:
    -1px -1px 0 #650379,  /* Sombra izquierda-arriba */
     1px -1px 0 #f4ff6093,  /* Sombra derecha-arriba */
    -1px  1px 0 #650379,  /* Sombra izquierda-abajo */
     1px  1px 0 #f4ff6093; /* Sombra derecha-abajo */
}
#scene-4 {
  background: url('img/fondo-escena4.png') no-repeat center center/cover;
  font-family: 'Times New Roman', serif;
  color: #ffffff;
    text-shadow:
    -1px -1px 0 #000,  /* Sombra izquierda-arriba */
     1px -1px 0 #000,  /* Sombra derecha-arriba */
    -1px  1px 0 #000,  /* Sombra izquierda-abajo */
     1px  1px 0 #000; /* Sombra derecha-abajo */
}
#scene-5 {
  background: url('img/fondo-escena5.png') no-repeat center center/cover;
  font-family: 'Verdana', sans-serif;
    color: #3702f8;
      text-shadow:
    -1px -1px 0 #f4ff60,  /* Sombra izquierda-arriba */
     1px -1px 0 #f4ff60,  /* Sombra derecha-arriba */
    -1px  1px 0 #f4ff60,  /* Sombra izquierda-abajo */
     1px  1px 0 #f4ff60; /* Sombra derecha-abajo */
}
#scene-6 {
  background: url('img/fondo-escena6.png') no-repeat center center/cover;
  font-family: 'Trebuchet MS', sans-serif;
    color: #00c2a8;
      text-shadow:
    -1px -1px 0 #000,  /* Sombra izquierda-arriba */
     1px -1px 0 #000,  /* Sombra derecha-arriba */
    -1px  1px 0 #000,  /* Sombra izquierda-abajo */
     1px  1px 0 #000; /* Sombra derecha-abajo */
}
#scene-7 {
  background: url('img/fondo-escena7.png') no-repeat center center/cover;
  font-family: 'Lucida Console', monospace;
    color: #f719ad;
      text-shadow:
    -1px -1px 0 #000,  /* Sombra izquierda-arriba */
     1px -1px 0 #000,  /* Sombra derecha-arriba */
    -1px  1px 0 #000,  /* Sombra izquierda-abajo */
     1px  1px 0 #000; /* Sombra derecha-abajo */
}

.scene h2 {
  font-size: 2.5em;
  margin: 0.5em 0;
}

.scene p {
  font-size: 1.2em;
  margin: 0.5em;
  max-width: 80%;
  text-align: center;
}

.scene-bg-placeholder {
  position: absolute;
  top: 0; left: 0;
  width: 100%;
  height: 100%;
  opacity: 0.31;
  filter: brightness(0.4);
  z-index: 0;
  border-radius: 0;
}

.scene-audio {
  position: absolute;
  bottom: 10px;
}
/* Estrellas doradas cayendo */
.stars-effect {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1;
  overflow: hidden;
}

.star {
  position: absolute;
  width: 10px;
  height: 10px;
  background: radial-gradient(circle, gold 0%, #ffd700 40%, rgba(255,255,255,0) 70%);
  border-radius: 50%;
  animation: fallStars linear infinite;
  opacity: 0.8;
}

@keyframes fallStars {
  0% {
    transform: translateY(-10px);
    opacity: 0;
  }
  30% {
    opacity: 1;
  }
  100% {
    transform: translateY(110vh);
    opacity: 0;
  }
}
.svg-wave-container {
  position: absolute;
  bottom: 0;
  width: 100%;
  height: 100px;
  overflow: hidden;
  z-index: 1;
  pointer-events: none;
}

.svg-wave {
  width: 100%;
  height: 100%;
}
.floating-raft {
  position: absolute;
  bottom: 35px; /* flotando justo encima de las olas */
  left: 50%;
  transform: translateX(-50%);
  width: 180px;
  animation: raftFloat 4s ease-in-out infinite;
  z-index: 2;
  pointer-events: none;
}

@keyframes raftFloat {
  0% { transform: translate(-50%, 0); }
  50% { transform: translate(-50%, -8px); }
  100% { transform: translate(-50%, 0); }
}
/* P√©talos de cerezo cayendo */
.petal-container {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1;
  overflow: hidden;
}

.petal {
  position: absolute;
  width: 20px;
  height: 20px;
  background: radial-gradient(circle at 30% 30%, #ffb6c1, #ff69b4);
  border-radius: 50% 50% 50% 0;
  transform: rotate(0deg);
  opacity: 0.9;
  animation: fallPetal 6s linear infinite, spinPetal 8s ease-in-out infinite;
}

@keyframes fallPetal {
  0% {
    top: -10%;
    opacity: 0.9;
  }
  100% {
    top: 110%;
    opacity: 0;
  }
}

@keyframes spinPetal {
  0% { transform: rotate(0deg) translateX(0); }
  50% { transform: rotate(180deg) translateX(20px); }
  100% { transform: rotate(360deg) translateX(-20px); }
}
/* Frases "Te Amo" con efecto m√°quina de escribir */
.love-word {
  position: absolute;
  color: #ffffff;
  font-size: 1.3em; /* reducido */
  font-family: 'Courier New', monospace;
  white-space: nowrap;
  overflow: hidden;
  border-right: 2px solid #fff;
  width: 0;
  opacity: 1;
  animation: typing 2s steps(6, end) forwards, fadeOut 6s ease-out 2s forwards;
  z-index: 3;
}

@keyframes typing {
  from { width: 0; }
  to { width: 6ch; } /* te amo = 6 letras con espacio */
}

@keyframes fadeOut {
  0%, 30% { opacity: 1; }
  100% { opacity: 0; }
}
/* Llamas animadas a los costados */
.flame-zone {
  position: absolute;
  bottom: 0;
  width: 80px;
  height: 100%;
  pointer-events: none;
  z-index: 2;
}

#flame-left {
  left: 0;
}

#flame-right {
  right: 0;
}

.flame-burst {
  position: absolute;
  bottom: 0;
  width: 20px;
  height: 80px;
  background: radial-gradient(ellipse at bottom, rgba(255, 140, 0, 0.7), transparent);
  border-radius: 50% 50% 50% 50%;
  animation: flame-flicker 2s infinite ease-in-out;
  filter: blur(4px);
  opacity: 0.8;
}

@keyframes flame-flicker {
  0% {
    transform: scaleY(1) translateY(0) rotate(0deg);
    opacity: 0.7;
  }
  50% {
    transform: scaleY(1.3) translateY(-20px) rotate(5deg);
    opacity: 1;
  }
  100% {
    transform: scaleY(1) translateY(0) rotate(-3deg);
    opacity: 0.6;
  }
}
.spark-container {
  position: absolute;
  bottom: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 3;
}

.spark {
  position: absolute;
  width: 4px;
  height: 4px;
  background-color: gold;
  border-radius: 50%;
  opacity: 0.8;
  animation: spark-rise 3s linear forwards;
  filter: blur(1px);
}

@keyframes spark-rise {
  0% {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
  100% {
    transform: translateY(-200px) scale(0.5);
    opacity: 0;
  }
}
.fire-base {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 120px;
  background: linear-gradient(to top, rgba(255, 94, 0, 0.6), transparent);
  z-index: 1;
  overflow: hidden;
}

.fire-flame {
  position: absolute;
  bottom: 0;
  width: 30px;
  height: 100px;
  background: radial-gradient(ellipse at bottom, #ff7300, transparent);
  border-radius: 50% 50% 30% 30%;
  filter: blur(2px);
  animation: base-flame-flicker 1s infinite ease-in-out;
  opacity: 0.7;
}

@keyframes base-flame-flicker {
  0% {
    transform: translateY(0) scaleY(1);
    opacity: 0.7;
  }
  50% {
    transform: translateY(-10px) scaleY(1.2);
    opacity: 1;
  }
  100% {
    transform: translateY(0) scaleY(1);
    opacity: 0.7;
  }
}

.twinkle-stars {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1;
  overflow: hidden;
}

.twinkle-star {
  position: absolute;
  width: 2.5px;
  height: 2.5px;
  background-color: #ffffff;
  border-radius: 50%;
  opacity: 1;
  animation: twinkle 1.8s infinite ease-in-out;
  filter: drop-shadow(0 0 6px #ffffff) drop-shadow(0 0 12px #ffffff);
  mix-blend-mode: screen;
}


@keyframes twinkle {
  0% { opacity: 0.2; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.5); }
  100% { opacity: 0.2; transform: scale(1); }
}
.music-notes {
  position: absolute;
  width: 100%;
  height: 100%;
  overflow: hidden;
  top: 0;
  left: 0;
  pointer-events: none;
  z-index: 2;
}

.note {
  position: absolute;
  color: #f719ad;
  font-size: 20px;
  opacity: 0.8;
  animation: floatNote 6s linear infinite;
  filter: drop-shadow(0 0 4px #f719ad);
}

@keyframes floatNote {
  0% {
    transform: translateY(0) translateX(0) scale(1);
    opacity: 1;
  }
  50% {
    opacity: 0.8;
  }
  100% {
    transform: translateY(-100vh) translateX(-30px) scale(1.2);
    opacity: 0;
  }
}
#start-banner {
  position: absolute;
  width: 100%;
  height: 100%;
  background: rgba(17, 17, 17, 0.85);
  z-index: 100;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: transform 2s ease, opacity 2s ease;
}

.wooden-sign {
  background: url('img/madera.png') no-repeat center center;
  background-size: cover;
  padding: 2rem 3rem;
  border: 6px solid #5c3b1d;
  border-radius: 12px;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.7);
  text-align: center;
  animation: swing 2s infinite ease-in-out;
  transform-origin: top center;
}

.wooden-sign h1 {
  font-size: 2.2rem;
  margin: 0;
  color: #5c3b1d;
  text-shadow: 1px 1px 2px #000;
  font-family: 'Georgia', serif;
}

.wooden-sign p {
  font-size: 1rem;
  margin-bottom: 1.5rem;
  color: #5c3b1d;
  font-style: italic;
  text-shadow: 1px 1px 2px #000000;
}

.wooden-sign button {
  padding: 0.8rem 1.5rem;
  font-size: 1rem;
  background-color: gold;
  color: #000;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  box-shadow: 0 0 12px gold;
  transition: transform 0.3s ease;
}
.wooden-sign button:hover {
  transform: scale(1.05);
}

@keyframes swing {
  0% { transform: rotate(1deg); }
  50% { transform: rotate(-1deg); }
  100% { transform: rotate(1deg); }
}

#start-banner.up {
  transform: translateY(-100%);
  opacity: 0;
  pointer-events: none;
}
#fade-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: black;
  opacity: 0;
  z-index: 15;
  pointer-events: none;
  transition: opacity 0.8s ease; /* ‚è±Ô∏è M√°s lento */

}
#fade-overlay.visible {
  opacity: 1.5;
}
#audience {
  position: absolute;
  bottom: 0;
  width: 100%;
  height: auto;
  z-index: 4;
  pointer-events: none;
  opacity: 0.85;
}

#restart-button {
  position: absolute;
  bottom: 15px;
  right: 15px;
  background-color: #ffcc00;
  color: black;
  border: none;
  border-radius: 8px;
  padding: 0.6rem 1rem;
  font-family: 'Georgia', serif;
  font-size: 1rem;
  cursor: pointer;
  box-shadow: 0 0 12px gold;
  z-index: 12;
  transition: transform 0.3s ease;
}
#restart-button:hover {
  transform: scale(1.1);
  background-color: gold;
}
#butacas-img {
  position: absolute;
  bottom: 0;
  left: 20%;
  transform: translateX(-50%);
  width: 150px; /* ajusta este valor seg√∫n se vea mejor */
  max-width: 90vw;
  z-index: 3;
  pointer-events: none;
}


#start-button {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 20;
  padding: 1rem 2rem;
  font-size: 1.5rem;
  background-color: gold;
  color: black;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  box-shadow: 0 0 20px gold;
  transition: transform 0.3s ease;
  user-select: none;
}
#start-button:hover {
  transform: translate(-50%, -50%) scale(1.05);
}

.curtain.open.curtain-left {
  transform: translateX(-100%);
}
.curtain.open.curtain-right {
  transform: translateX(100%);
}

.arrow {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  font-size: 2em;
  background: rgba(255, 215, 0, 0.1); /* dorado suave */
  border: 2px solid gold;
  border-radius: 50%;
  padding: 0.3em 0.4em;
  color: gold;
  cursor: pointer;
  z-index: 10;
  box-shadow: 0 0 15px rgba(255, 215, 0, 0.4);
  transition: all 0.3s ease;
  user-select: none;
}

.arrow:hover {
  background: gold;
  color: black;
  transform: translateY(-50%) scale(1.1);
  box-shadow: 0 0 20px gold;
}
@keyframes arrowPulse {
  0%, 100% {
    transform: translateY(-50%) scale(1);
    box-shadow: 0 0 15px rgba(255, 215, 0, 0.4);
  }
  50% {
    transform: translateY(-50%) scale(1.05);
    box-shadow: 0 0 25px rgba(255, 215, 0, 0.8);
  }
}

.arrow {
  animation: arrowPulse 2.5s ease-in-out infinite;
}


.arrow.left {
  left: 10px;
}

.arrow.right {
  right: 10px;
}

#stars-canvas {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
</style>
</head>
<body>
  <div id="start-banner">
  <div class="wooden-sign">
    <h1>Funci√≥n para Adri</h1>
    <p>Un recorrido por el Universo Adri</p>
    <button onclick="startShow()">¬°Que comience el show!</button>
  </div>
</div>


<div id="theater">
  <div class="curtain curtain-left" id="curtain-left"></div>
  <div class="curtain curtain-right" id="curtain-right"></div>

  <div id="fade-overlay"></div>
    <div class="scene-container" id="scene-container">
      <!-- Escena 1 -->
      <div class="scene" id="scene-1">
        <h2>Mi querida Adri</h2>
        <p>Incluso ahora, puedo casi escucharte en mi coraz√≥n. No hay un solo d√≠a en que no me detenga a pensar en lo afortunado que soy de compartir esta historia contigo. Me siento abrumado por la gratitud y por todo lo que hemos vivido, y por todo lo que a√∫n est√° por venir. T√∫ eres mi revoluci√≥n m√°s hermosa.</p>
        <canvas id="stars-canvas"></canvas>
        <div class="scene-bg-placeholder"></div>
        <audio  loop class="scene-audio" id="audio-scene-1">
          <source src="sound/helpless.mp3" type="audio/mpeg" />
        </audio>
        <div class="stars-effect" id="stars-effect-scene-1"></div>
      </div>

      <!-- Escena 2 -->
      <div class="scene" id="scene-2">
        <h2>No importa cu√°n largo sea el viaje</h2>
        <p>Siempre volver√© a ti. A veces te escucho en el mar, en el viento, en las estrellas. Tu nombre ha sido mi faro en noches oscuras, tu recuerdo el impulso que me manten√≠a en pie. Aunque las olas me arrastraran lejos, aunque el tiempo pareciera eterno, mi coraz√≥n sab√≠a el camino de regreso. </p>
        <div class="scene-bg-placeholder"></div>
        <audio  loop class="scene-audio" id="audio-scene-2">
          <source src="sound/Fall In Love.mp3" type="audio/mpeg" />
        </audio>
        <img src="img/balsa.png" class="floating-raft" alt="Balsa" />
      <div class="svg-wave-container">
  <svg class="svg-wave" viewBox="0 0 1200 100" preserveAspectRatio="none">
    <path d="M0,30 C300,80 900,0 1200,30 L1200,100 L0,100 Z" fill="rgba(2, 80, 104, 0.6)">
      <animate attributeName="d" dur="8s" repeatCount="indefinite"
        values="
          M0,30 C300,80 900,0 1200,30 L1200,100 L0,100 Z;
          M0,40 C300,20 900,80 1200,40 L1200,100 L0,100 Z;
          M0,30 C300,80 900,0 1200,30 L1200,100 L0,100 Z
        "
      />
    </path>
  </svg>
</div>
      </div>

      <!-- Escena 3 -->
      <div class="scene" id="scene-3">
        <h2>A√∫n en el silencio del mundo</h2>
        <p>Mi coraz√≥n te canta como si fueras mi √∫nica melod√≠a. En ti encontr√© un lugar seguro donde descansar, una voz que calma el ruido del mundo, una luz que me gu√≠a sin condici√≥n. Como dir√≠an ellos: "You gave me the best of me, so you'll give you the best of you."  Y yo te dar√© siempre lo mejor de m√≠.</p>
        <div class="scene-bg-placeholder"></div>
        <audio  loop class="scene-audio" id="audio-scene-3">
          <source src="sound/Magic Shop.mp3" type="audio/mpeg" />
        </audio>
        <div class="petal-container" id="petal-container-3"></div>
      </div>

      <!-- Escena 4 -->
      <div class="scene" id="scene-4">
        <h2>No importa cu√°ndo ni d√≥nde</h2>
        <p>Te habr√≠a amado igual, en cualquier vida, en cualquier tiempo. Porque cuando te miro, todo cobra sentido. Como si el universo me hubiera estado preparando para encontrarte. Como dir√≠a Taylor Swift en su canci√≥n m√°s atemporal, eres mi propio "Timeless Love".</p>
        <div class="scene-bg-placeholder"></div>
        <audio  loop class="scene-audio" id="audio-scene-4">
          <source src="sound/Timeless.mp3" type="audio/mpeg" />
        </audio>
        <div class="love-words-container" id="love-words-container-4"></div>
      </div>

      <!-- Escena 5 -->
      <div class="scene" id="scene-5">
        <h2>Podr√≠a arder el mundo entero</h2>
        <p>Y a√∫n as√≠, t√∫ ser√≠as mi √∫nico lugar seguro. En el caos de los d√≠as m√°s oscuros, eres la √∫nica llama que no quema, sino que abriga. En este teatro de locura, tu amor es lo √∫nico que me mantiene cuerdo.</p>
        <div class="scene-bg-placeholder"></div>
        <audio  loop class="scene-audio" id="audio-scene-5">
          <source src="sound/Seventeen.mp3" type="audio/mpeg" />
        </audio>
<div class="flame-zone" id="flame-left"></div>
<div class="flame-zone" id="flame-right"></div>
<div class="spark-container" id="spark-container-5"></div>
<div class="fire-base" id="fire-base-5"></div>
      </div>

      <!-- Escena 6 -->
      <div class="scene" id="scene-6">
        <h2>Podr√≠as cambiar de forma mil veces</h2>
        <p>Y en todas, seguir√≠a eligi√©ndote. Porque lo nuestro va m√°s all√° de lo que se ve. Como Gumball y Penny, sabemos que el amor no necesita l√≥gica, solo sinceridad. Y t√∫, con todas tus formas, siempre ser√°s mi favorita.</p>
        <div class="scene-bg-placeholder"></div>
        <audio  loop class="scene-audio" id="audio-scene-6">
          <source src="sound/Your Problem.mp3" type="audio/mpeg" />
        </audio>
        <div class="twinkle-stars" id="twinkle-stars-6"></div>
      </div>

      <!-- Escena 7 -->
      <div class="scene" id="scene-7">
        <h2>Incluso cuando no supe c√≥mo amar</h2>
        <p>T√∫ seguiste siendo mi canci√≥n favorita. Como Marceline y Dulce Princesa, lo nuestro tambi√©n aprendi√≥ a sanar, a re√≠r, a llorar‚Ä¶ y a seguir adelante. Si el amor es una melod√≠a, t√∫ eres la que siempre quiero cantar.</p>
        <div class="scene-bg-placeholder"></div>
        <audio  loop class="scene-audio" id="audio-scene-7">
          <source src="sound/Love Like You.mp3" type="audio/mpeg" />
        </audio>
        <div class="music-notes" id="music-notes-7"></div>
      </div>
    </div>

    <button class="arrow left" onclick="prevScene()">‚üµ</button>
    <button class="arrow right" onclick="nextScene()">‚ü∂</button>
  </div>
</div>
<img src="img/butacas.png" id="butacas-img" />


<button id="restart-button" onclick="restartShow()">
  Reiniciar obra
</button>

<script>
let currentScene = 0;
const totalScenes = document.querySelectorAll('.scene').length;

function startShow() {
  activateAudios(); // üîë ACTIVA los audios
  document.getElementById('start-banner').classList.add('up');
  document.getElementById('curtain-left').classList.add('open');
  document.getElementById('curtain-right').classList.add('open');
  playSceneAudio(currentScene); // Reproduce escena 1
}

function activateAudios() {
  const audios = document.querySelectorAll('.scene-audio');
  audios.forEach(audio => {
    audio.muted = true;
    audio.play().then(() => {
      audio.pause();
      audio.muted = false;
      audio.currentTime = 0;
    }).catch(() => {
      // Algunos navegadores no permiten esto sin interacci√≥n, no pasa nada.
    });
  });
}


function updateScene() {
  const container = document.getElementById('scene-container');
  container.style.transform = `translateX(-${currentScene * 100}vw)`;

  stopAllAudio();
  playSceneAudio(currentScene);
}

function nextScene() {
  if (currentScene < totalScenes - 1) {
    currentScene++;
    updateScene();
  } else {
    fadeTransition(() => {
      currentScene = 0;
      updateScene();
    });
  }
}



function prevScene() {
  if (currentScene > 0) {
    currentScene--;
    updateScene();
  } else {
    fadeTransition(() => {
      currentScene = totalScenes - 1;
      updateScene();
    });
  }
}



function stopAllAudio() {
  const audios = document.querySelectorAll('.scene-audio');
  audios.forEach(audio => {
    audio.pause();
    audio.currentTime = 0;
  });
}

function playSceneAudio(sceneIndex) {
  const audio = document.getElementById(`audio-scene-${sceneIndex + 1}`);
  if (audio) {
    audio.play().catch(() => {
      // Algunos navegadores bloquean autoplay sin interacci√≥n
    });
  }
}
function fadeTransition(callback) {
  const overlay = document.getElementById('fade-overlay');
  overlay.classList.add('visible');

  // Esperar a que el fondo negro est√© completamente visible (800ms)
  setTimeout(() => {
    callback(); // Cambiar escena cuando ya est√° oscuro

    // Esperar antes de desaparecer el overlay (tambi√©n 800ms)
    setTimeout(() => {
      overlay.classList.remove('visible');
    }, 800); // fade in (desaparece el overlay)
    
  }, 800); // fade out (aparece el overlay)
}



function createStarsEffect(containerId, count = 50) {
  const container = document.getElementById(containerId);
  for (let i = 0; i < count; i++) {
    const star = document.createElement('div');
    star.className = 'star';
    star.style.left = Math.random() * 100 + 'vw';
    star.style.animationDuration = 3 + Math.random() * 2 + 's';
    star.style.animationDelay = Math.random() * 5 + 's';
    container.appendChild(star);
  }
}

// Solo activar cuando se carga la escena 1
window.addEventListener('load', () => {
  createStarsEffect('stars-effect-scene-1', 80);
});
function createPetals(containerId, count = 30) {
  const container = document.getElementById(containerId);
  for (let i = 0; i < count; i++) {
    const petal = document.createElement('div');
    petal.className = 'petal';
    petal.style.left = Math.random() * 100 + 'vw';
    petal.style.animationDuration = 5 + Math.random() * 3 + 's';
    petal.style.animationDelay = Math.random() * 5 + 's';
    container.appendChild(petal);
  }
}

// Activar al cargar la escena 3
window.addEventListener('load', () => {
  createPetals('petal-container-3', 40);
});
function generateLoveWords(containerId, interval = 1500) {
  const container = document.getElementById(containerId);
  setInterval(() => {
    const word = document.createElement('div');
    word.className = 'love-word';
    word.innerText = 'Te Amo';
    word.style.top = Math.random() * 90 + '%';
    word.style.left = Math.random() * 90 + '%';
    word.style.animationDuration = '2s, 6s';

    container.appendChild(word);

    // Eliminar despu√©s de la animaci√≥n para no saturar
    setTimeout(() => {
      container.removeChild(word);
    }, 7000);
  }, interval);
}

// Activar cuando se carga la escena 4
window.addEventListener('load', () => {
  generateLoveWords('love-words-container-4', 1800);
});
function generateFlames(containerId, count) {
  const container = document.getElementById(containerId);
  for (let i = 0; i < count; i++) {
    const flame = document.createElement('div');
    flame.className = 'flame-burst';
    flame.style.left = Math.random() * 60 + 'px';
    flame.style.width = 15 + Math.random() * 15 + 'px';
    flame.style.height = 60 + Math.random() * 40 + 'px';
    flame.style.animationDelay = (Math.random() * 2) + 's';
    container.appendChild(flame);
  }
}

window.addEventListener('load', () => {
  generateFlames('flame-left', 8);
  generateFlames('flame-right', 8);
});
function generateSparks(containerId, interval = 400) {
  const container = document.getElementById(containerId);
  setInterval(() => {
    const spark = document.createElement('div');
    spark.className = 'spark';
    spark.style.left = Math.random() * 100 + '%';
    spark.style.bottom = '0px';
    container.appendChild(spark);

    setTimeout(() => {
      container.removeChild(spark);
    }, 3000);
  }, interval);
}

window.addEventListener('load', () => {
  generateSparks('spark-container-5', 300);
});
function generateBaseFlames(containerId, count = 30) {
  const container = document.getElementById(containerId);
  for (let i = 0; i < count; i++) {
    const flame = document.createElement('div');
    flame.className = 'fire-flame';
    flame.style.left = `${(i * 100) / count}%`;
    flame.style.animationDelay = `${Math.random()}s`;
    flame.style.height = 80 + Math.random() * 40 + 'px';
    flame.style.width = 20 + Math.random() * 15 + 'px';
    container.appendChild(flame);
  }
}

function generateStars(containerId, count = 100) {
  const container = document.getElementById(containerId);
  for (let i = 0; i < count; i++) {
    const star = document.createElement('div');
    star.className = 'twinkle-star';
    star.style.top = `${Math.random() * 100}%`;
    star.style.left = `${Math.random() * 100}%`;
    star.style.width = `${1 + Math.random() * 2}px`;
    star.style.height = star.style.width;
    star.style.animationDelay = `${Math.random() * 2}s`;
    container.appendChild(star);
  }
}

window.addEventListener('load', () => {
  generateStars('twinkle-stars-6', 120);
});
function generateNotes(containerId, count = 30) {
  const container = document.getElementById(containerId);
  const noteChars = ['üéµ','üé∂','ùÑû','‚ô™','‚ô©','‚ô¨'];

  for (let i = 0; i < count; i++) {
    const note = document.createElement('div');
    note.className = 'note';
    note.textContent = noteChars[Math.floor(Math.random() * noteChars.length)];
    note.style.left = `${Math.random() * 100}%`;
    note.style.bottom = `-${Math.random() * 20}px`;
    note.style.fontSize = `${16 + Math.random() * 20}px`;
    note.style.animationDelay = `${Math.random() * 6}s`;
    container.appendChild(note);
  }
}

window.addEventListener('load', () => {
  generateNotes('music-notes-7', 40);
});
function startShow() {
  document.getElementById('start-banner').classList.add('up');
  document.getElementById('curtain-left').classList.add('open');
  document.getElementById('curtain-right').classList.add('open');
}
function restartShow() {
  const curtainLeft = document.getElementById("curtain-left");
  const curtainRight = document.getElementById("curtain-right");
  const startBanner = document.getElementById("start-banner");

  // Cerrar tel√≥n
  curtainLeft.classList.remove("open");
  curtainRight.classList.remove("open");

  // Esperar a que se cierre y luego reiniciar
  setTimeout(() => {
    // Ocultar todas las escenas y volver al principio
    currentScene = 0;
    updateScene();
    stopAllAudio();

    // Mostrar el cartel inicial otra vez
    startBanner.classList.remove("up");

  }, 1500);
}




</script>
</body>
</html>
